@startwbs Structure Database

<style>
node {
  MaximumWidth 250
}
</style>

*(database) Структура данных СУБД

**(roles):<b>Роли</b>
<i>Определяет различные роли в системе (например, "Administrator" (Администратор), "Developer" (Разработчик), "Viewer" (Наблюдатель)). Роли используются для группировки разрешений.</i>;

***(permissions):<b>Разрешения</b>
<i>Определяет атомарные разрешения, которые могут быть предоставлены ролям (например, "BROWSE_PROJECTS" (просмотр проектов), "EDIT_ISSUES" (редактирование задач), "CREATE_ISSUES" (создание задач)).</i>;

***<(role_permissions):<b>Связи ролей с разрешениями</b>
<i>Связующая таблица (многие-ко-многим), которая сопоставляет роли с разрешениями. Определяет, какие разрешения входят в каждую роль.</i>;

**(projects):<b>Проекты</b>
<i>Представляет собой отдельные проекты, в рамках которых ведутся задачи. Каждый проект имеет своего руководителя, уникальный ключ и набор задач.</i>;

***(project_members):<b>Члены проектов</b>
<i>Определяет, какие группы имеют какие роли в конкретных проектах. Через это устанавливаются права доступа к проекту для групп пользователей.</i>;

***<(project_issue_type_workflow_defaults):<b>Жизненный цикл типов задач по умолчанию</b>
<i>Позволяет определить, какой рабочий процесс должен использоваться по умолчанию для определенного типа задач в рамках конкретного проекта. Это позволяет проектам иметь кастомизированные рабочие процессы для разных типов задач.</i>;

***(issues):<b>Задачи</b>
<i>Основная таблица, хранящая все задачи в системе. Это могут быть баги, задачи, истории и т.д.</i>;

****(issue_types):<b>Категории задач</b>
<i>Определяет различные категории задач, которые могут быть созданы в системе (например, "Bug" (Баг), "Task" (Задача), "Story" (История), "Epic" (Эпик)). Позволяет классифицировать работу.</i>;

****<(issue_link_types):<b>Виды связей задач</b>
<i>Определяет различные виды связей между задачами (например, 'blocks' (блокирует), 'relates to' (связана с), 'duplicates' (дублирует)). Позволяет строить граф зависимостей между задачами.</i>;

****(comments):<b>Комментарии к задачам</b>
<i>Хранит комментарии, добавленные к задачам. Позволяет пользователям обсуждать и уточнять детали задач.</i>;

****<(issue_links):<b>Список связей задач</b>
<i>Хранит конкретные связи между двумя задачами, используя определенный тип связи.</i>;

****(issue_statuses):<b>Статусы задач</b>
<i>Определяет различные состояния, через которые может проходить задача в своем жизненном цикле (например, "Open" (Открыто), "In Progress" (В работе), "Resolved" (Решено), "Closed" (Закрыто)). Статусы являются частью рабочего процесса.</i>;

****<(workflows):<b>Жизненные циклы задач</b>
<i>Определяет последовательность статусов и разрешенных переходов между ними для задач. Каждый рабочий процесс описывает жизненный цикл задачи. Например, один рабочий процесс может быть для багов, другой — для историй.</i>;

*****(workflow_statuses):<b>Статусы жизненных циклов</b>
<i>Связующая таблица (многие-ко-многим), которая определяет, какие статусы включены в конкретный рабочий процесс.</i>;

*****<(workflow_transitions):<b>Переходы статусов в жизненном цикле</b>
<i>Определяет допустимые переходы между статусами внутри одного рабочего процесса. Например, из статуса "Open" можно перейти в "In Progress", но не напрямую в "Closed".</i>;

****(issue_watchers):<b>Наблюдатели</b>
<i>Хранит список пользователей, которые наблюдают за определенной задачей и хотят получать уведомления о её изменениях.</i>;

****(priorities):<b>Приоритеты задач</b>
<i>Определяет уровень срочности или важности задачи (например, "Highest" (Высочайший), "High" (Высокий), "Medium" (Средний), "Low" (Низкий)). Влияет на порядок выполнения задач.</i>;

****(activity_log):<b>Журнал событий</b>
<i>Записывает все значимые изменения и действия, происходящие с задачами (например, изменение статуса, назначение исполнителя, обновление описания, добавление комментария/вложения). Позволяет просматривать историю изменений задачи.</i>;

****<(attachments):<b>Прикрепленные файлы</b>
<i>Хранит метаданные о файлах, прикрепленных к задачам. Сами файлы обычно хранятся в файловой системе или облачном хранилище, а в БД — только ссылки на них.</i>;

*****(file_types):<b>Типы файлов</b>
<i>Справочник для хранения известных типов файлов по их расширениям и MIME-типам. Используется для классификации вложений.</i>;

**(groups):<b>Группы пользователей</b>
<i>Позволяет объединять пользователей в логические группы (например, "Команда разработки", "Команда QA", "Руководители"). Упрощает управление доступом к проектам и массовое назначение прав.</i>;

***(users):<b>Пользователи</b>
<i>Хранит информацию обо всех зарегистрированных пользователях системы. Это центральная сущность, к которой привязаны многие другие действия и объекты.</i>;

****(user_notification_settings):<b>Настраиваемые типы уведомления</b>
<i>Позволяет каждому пользователю настраивать, какие типы уведомлений он хочет получать и по каким каналам.</i>;

***<(user_groups):<b>Связи групп с пользователями</b>
<i>Связующая таблица (многие-ко-многим), которая указывает, какие пользователи входят в какие группы.</i>;

**(notification_templates):<b>Шаблоны для различных типов уведомлений</b>
<i>Хранит параметризованные шаблоны для различных типов уведомлений (например, для электронных писем, внутрисистемных сообщений). Это позволяет легко изменять текст уведомлений без изменения кода.</i>;

**(notification_queue):<b>Очередь обработки уведомлений</b>
<i>Используется для асинхронной обработки и отправки уведомлений. Приложение добавляет уведомления в эту очередь, а отдельный фоновый процесс забирает их и отправляет, что предотвращает блокировку основного потока выполнения.</i>;

***(notification_statuses):<b>Статусы обработки уведомлений в очереди</b>
<i>Определяет перечень статусов обработки очереди уведомлений.</i>;

' issue_watchers --> users
' project_members --> roles
@endwbs